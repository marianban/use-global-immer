var e=require("react"),r=require("use-immer"),t=e.createContext();function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var o=function e(r){for(var t,o=function(e){var r=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,r){if(e){if("string"==typeof e)return n(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}}(e)))return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(Object.getOwnPropertyNames(r));!(t=o()).done;){var i=r[t.value];i&&"object"==typeof i&&e(i)}return Object.freeze(r)};exports.GlobalImmerProvider=function(e){var n=e.children,i=r.useImmer(e.store.initialState),a=i[1];return h(t.Provider,{value:[o(i[0]),a]},n)},exports.createImmerStore=function(e){return Object.keys(e).reduce(function(e,r){return e[r]={key:r},e},{initialState:e})},exports.useGlobalImmer=function(r){var n=e.useContext(t),o=n[1];return[n[0][r.key],function(e){if("function"!=typeof e)throw new Error("Updater must be a function");o(function(t){var n=e(t[r.key]);n&&(t[r.key]=n)})}]};
//# sourceMappingURL=index.js.map
